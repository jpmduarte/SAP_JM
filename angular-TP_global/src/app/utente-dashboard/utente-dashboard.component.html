<header class="header">
    <div class="user-info">
        <span class="user-id">Número do Utente</span>
    </div>
    <div class="profile" (click)="toggleLogoutPopup()">
        <i class="material-icons">person</i>
        <div *ngIf="showLogoutPopup" class="logout-popup">
            <button (click)="logout()">Logout</button>
        </div>
    </div>
</header>
<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>Nº Processo</th>
                <th>Nome</th>
                <th>Estado</th>
                <th>Detalhes</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1001</td>
                <td>ABC</td>
                <td>Rejeitado</td>
                <td>Consultar motivo</td>
            </tr>
            <tr>
                <td>1002</td>
                <td>ABC</td>
                <td>Aprovado</td>
                <td>Consultar data da avaliação</td>
            </tr>
            <tr>
                <td>1003</td>
                <td>ABC</td>
                <td>Em análise</td>
                <td>Editar dados</td>
            </tr>
            <!-- <tr *ngFor="let pedido of pedidos">
                <td>{{ pedido.id }}</td>
                <td>{{ pedido.utente.name }}</td>
                <td>{{ pedido.estado }}</td>
                <td>{{ pedido.detalhes }}</td>
            </tr> -->
        </tbody>
    </table>
</div>
<div class="button-container" (click)="toggleFormPopup()">
    <button>Efetuar Novo Pedido</button>
</div>
<div class="modal" *ngIf="showFormPopup">
    <div class="modal-content">
        <span class="close" (click)="toggleFormPopup()">&times;</span>
        <form *ngIf="showFormPopup" class="form-container">
            <h2>Preencha os campos abaixo para efetuar o seu Pedido de Junta Médica</h2>
        
            <div class="form-group">
                <label for="nomeCompleto">Nome Completo:</label>
                <input type="text" id="nomeCompleto" name="nomeCompleto">
            </div>
            <div class="form-group">
                <label for="numeroIdentificacao">Número de Identificação:</label>
                <input type="text" id="numeroIdentificacao" name="numeroIdentificacao">
            </div>
            <div class="form-group">
                <label for="NIF">NIF:</label>
                <input type="text" id="NIF" name="NIF">
            </div>
            <div class="form-group">
                <label for="nacionalidade">Nacionalidade:</label>
                <input type="text" id="nacionalidade" name="nacionalidade">
            </div>
            <div class="form-group">
                <label for="naturalidade">Naturalidade:</label>
                <input type="text" id="naturalidade" name="naturalidade">
            </div>
            <div class="form-group">
                <label for="numeroUtenteSaude">Nº Utente de Saúde:</label>
                <input type="text" id="numeroUtenteSaude" name="numeroUtenteSaude">
            </div>
            <div class="form-group">
                <label for="dataNascimento">Data de Nascimento:</label>
                <input type="date" id="dataNascimento" name="dataNascimento">
            </div>
            <div class="form-group">
                <label for="dataSubmissao">Data de Submissão:</label>
                <input type="date" id="dataSubmissao" name="dataSubmissao">
            </div>
            <div class="form-group">
                <div>
                    <input type="radio" id="submissaoReavaliacaoSim" name="submissionStatus" value="sim" (change)="onSubmissionStatusChange('sim')"><label for="submissaoReavaliacaoSim">Já foi submetido, pretendo uma reavaliação</label>
                </div>
                <div>
                    <input type="radio" id="nuncaSubmetido" name="submissionStatus" value="nao" (change)="onSubmissionStatusChange('nao')"><label for="nuncaSubmetido">Nunca foi submetido a Junta Médica de avaliação do grau de incapacidade</label>
                </div>
            </div>            
            <div class="form-group" *ngIf="showPreviousAssessmentField">
                <label for="atestadoAnterior">Adicionar Atestado Anterior:</label>
                <input type="file" id="atestadoAnterior" name="atestadoAnterior">
            </div>
            <div class="form-group">
                <button>Submeter</button>
            </div>
        </form>
    </div>
</div>

<footer class="footer"></footer>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
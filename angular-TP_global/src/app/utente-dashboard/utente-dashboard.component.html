<header class="header">
    <div class="app-name">
        <h2>SAP-JM</h2>
    </div>
    <div class="user-info">
        <h4 class="user-id">Número do Utente</h4>
    </div>
    <div class="profile">
        <i class="material-icons">person</i>
        <div class="logout-popup">
            <button (click)="logout()">Logout</button>
        </div>
    </div>
</header>
<div *ngIf="show">
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Nº Processo</th>
                    <th>Nome</th>
                    <th>Estado</th>
                    <th>Detalhes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1001</td>
                    <td>ABC</td>
                    <td>Rejeitado</td>
                    <td>Consultar motivo</td>
                </tr>
                <tr>
                    <td>1002</td>
                    <td>ABC</td>
                    <td>Aprovado</td>
                    <td>Consultar data da avaliação</td>
                </tr>
                <tr>
                    <td>1003</td>
                    <td>ABC</td>
                    <td>Em análise</td>
                    <td>Editar dados</td>
                </tr>
                <!-- <tr *ngFor="let pedido of pedidos">
                    <td>{{ pedido.id }}</td>
                    <td>{{ pedido.utente.name }}</td>
                    <td>{{ pedido.estado }}</td>
                    <td>{{ pedido.detalhes }}</td>
                </tr> -->
            </tbody>
        </table>
    </div>
    <button class="button-container" (click)="toggleFormPopup()">Efetuar Novo Pedido</button>
</div>
<div *ngIf="showFormPopup">
    <div>
        <form *ngIf="showFormPopup" class="form-container">
            <h2>Preencha os campos abaixo para efetuar o Pedido de Junta Médica</h2>
            <!-- Informações Pessoais -->
            <div class="form-container">
                <h3>Informações Pessoais</h3>
                <div class="form-field">
                    <input type="text" id="fullName" placeholder="Nome Completo">
                    <label for="birthDate">Data de Nascimento:</label>
                    <input type="date" id="birthDate">
                </div>
                <!-- Informações Documento -->
                <div class="form-field inline-field">
                    <input type="text" placeholder="Nº Identificacao">
                    <input type="text" id="nUtente" placeholder="Nº de Utente">
                    <input type="text" placeholder="NIF">
                </div>
                <div class="form-field">
                    <label for="validade">Data de Validade:</label>
                    <input type="date" id="validade" placeholder="Data de Validade">
                </div>
            </div>
            <!-- Informações Morada -->
            <div class="form-container">
                <h3>Morada</h3>
                <div class="form-field">
                    <label for="morada">Rua:</label>
                    <input type="text" id="morada" placeholder="Morada">
                </div>
                <div class="form-field inline-field">
                    <input type="text" placeholder="Codigo Postal">
                    <input type="text" id="localidade" placeholder="Localidade">
                </div>
                <div class="form-field inline-field">
                    <input type="text" id="concelho" placeholder="Concelho">
                    <input type="text" id="distrito" placeholder="Distrito">
                </div>
            </div>
            <!-- Informações Contacto -->
            <div class="form-container">
                <h3>Contacto</h3>
                <div class="form-field inline-field">
                    <input type="text" placeholder="Telemóvel">
                    <input type="text" id="email" placeholder="E-mail">
                </div>
            </div>
            <!-- Anexo Documentos -->
            <div class="form-container">
                <h3>Anexar Documentação</h3>
                <div class="form-field">
                    <input type="file" id="registosClinicos" name="registosClinicos" accept=".pdf" (change)="onFileChange($event)" multiple>
                    <div *ngFor="let file of files" class="document-item">
                        <span (click)="openFile(file)">{{ file.name }}</span>
                        <span (click)="removeFile(file)">&times;</span>
                    </div>
                </div>
            </div>
            <!-- Opção -->
            <div class="form-container">
                <div class="radio-group">
                    <p>Vem solicitar a V.Exª, que ao abrigo do nº 1 do 3º do Decreto - Lei nº 202/96, de 12 de Outubro, seja admitido a Junta Médica para Avaliação do grau de incapacidade para efeito de:</p>
                    <br>
                    <label class="radio-option" for="multiuso">
                        <input type="radio" id="multiuso" name="tipoPedido" value="multiuso">
                        Multiuso (Decreto-Lei nº 202/96, de 23 de Outubro com a redação dada pelo Decreto-Lei nº 174/97, de 19 de Junho).
                    </label>
                    <label class="radio-option" for="importacao">
                        <input type="radio" id="importacao" name="tipoPedido" value="importacao">
                        Importação de veículo automóvel e outros (Lei nº 22-A/2007 de 29 de junho de 2007).
                    </label>
                </div>
                <br>
                <div class="radio-group">
                    <p>Comprometendo-se a ser portador de toda a informação clínica respeitante à(s) doença(s) e/ou deficiência(s) que justifica(m) este pedido.</p>
                    <p>Informa ainda que:</p>
                    <br>
                    <label class="radio-option" for="submissaoReavaliacaoSim">
                        <input type="radio" id="submissaoReavaliacaoSim" name="submissionStatus" value="sim" (change)="onSubmissionStatusChange('sim')">
                        Já foi submetido em (data) <input type="date">, pretendo uma reavaliação
                    </label>
                    <label class="radio-option" for="nuncaSubmetido">
                        <input type="radio" id="nuncaSubmetido" name="submissionStatus" value="nao" (change)="onSubmissionStatusChange('nao')">
                        Nunca foi submetido a Junta Médica de avaliação do grau de incapacidade
                    </label>
                </div>
                <div class="form-group" *ngIf="showPreviousAssessmentField">
                    <p class="warning-message">Aviso: Inclua o atestado médico anterior na seção "Anexar Documentação".</p>
                </div>               
            </div>
            <button (click)="submitForm()">Submeter</button>
        </form>
    </div>
</div>
<footer>
    
</footer>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">